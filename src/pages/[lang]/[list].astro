---
export const prerender = true;

import NoticiasListPage from '../../components/NoticiasListPage.astro';
import routeTranslations from '../../i18n/routeTranslations';
import type { SupportedLang } from '../../types/lang';


export function getStaticPaths() {
  const langs: SupportedLang[] = ["pt", "en", "es"];
  return langs.map(lang => ({
    params: { lang, list: routeTranslations['noticias'][lang] }
  }));
}

const currentLang = (Astro.params.lang ?? 'pt') as SupportedLang;
const list = Astro.params.list;

const isNoticiasList = list === routeTranslations['noticias'][currentLang];
---

{isNoticiasList ? (
  <NoticiasListPage lang={currentLang} />
) : (
  <>
    <h1>404 - Not Found</h1>
    <p>Página não encontrada.</p>
  </>
)}
