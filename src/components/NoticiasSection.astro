---
import { getCollection } from 'astro:content';

const noticias = await getCollection('noticias');
---

<section class="mt-16">
  <p class="text-center text-primary font-semibold uppercase tracking-wide mb-2">Notícias</p>
  <h2 class="text-center text-4xl font-extrabold mb-8">Últimas atualizações</h2>

  <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
    {noticias.map((noticia) => (
      <a href={`/noticias/${noticia.slug}/`} class="card bg-base-100 shadow-md rounded-lg overflow-hidden hover:shadow-lg transition">
        <figure>
          <img src={noticia.data.image} alt={noticia.data.title} class="w-full h-48 object-cover" />
        </figure>
        <div class="card-body">
          <h3 class="card-title text-lg">{noticia.data.title}</h3>
          <p class="text-sm text-base-content">{noticia.data.resumo}</p>
          <p class="text-xs text-gray-400">{new Date(noticia.data.date).toLocaleDateString()}</p>
        </div>
      </a>
    ))}
  </div>
</section>
