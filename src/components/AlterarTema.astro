---
import IconSun from "../icons/IconThemeSun.astro";
import IconMoon from "../icons/IconThemeMoon.astro";
import IconSystem from "../icons/IconThemeSystem.astro"; // Ícone para a opção "System" no menu
import ThemeIcon from "../components/ThemeIcon.astro"; // Componente que mostra o ícone dinâmico (sol/lua)
---

<div class="dropdown dropdown-hover dropdown-end w-full md:w-auto">
  <label
    tabindex="0"
    class="flex items-center gap-1 cursor-pointer hover:text-primary text-base-content"
  >
    {/* ✅ Ícone dinâmico (sol/lua) que muda com o tema efetivamente aplicado */}
    <ThemeIcon class="w-5 h-5" />

    <svg class="ml-1 w-3 h-3 fill-current" viewBox="0 0 20 20">
      <path d="M5.25 7.75L10 12.5l4.75-4.75" />
    </svg>
  </label>

  {/* ✅ Menu com seletores de tema */}
  <ul
    class="dropdown-content menu p-0 shadow bg-base-100 text-base-content rounded-sm w-full md:w-40 -translate-y-2
           transition transform scale-95 opacity-0 group-hover:opacity-100 group-hover:scale-100 duration-150 ease-out"
  >
    <li>
      {/* Botão para tema claro */}
      <a data-set-theme="light" data-act-class="font-bold">
        <IconSun class="inline w-4 h-4 mr-2" />
        Light
      </a>
    </li>
    <li>
      {/* Botão para tema escuro */}
      <a data-set-theme="dark" data-act-class="font-bold">
        <IconMoon class="inline w-4 h-4 mr-2" />
        Dark
      </a>
    </li>
    <li>
      {/* Botão para tema do sistema */}
      <a data-set-theme="system" data-act-class="font-bold">
        <IconSystem class="inline w-4 h-4 mr-2" />
        System
      </a>
    </li>
  </ul>
</div>