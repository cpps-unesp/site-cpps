---
const { title, resumo, image, tags, slug, lang, date, author } = Astro.props;
import slugify from "slugify";
---

<article class="flex flex-col bg-base-100 rounded-xl overflow-hidden shadow-sm hover:shadow-md transition-shadow border border-base-200 h-full">
  <a href={slug} class="relative block overflow-hidden aspect-video">
    <img
      src={image}
      alt={title}
      class="w-full h-full object-cover transition-transform duration-500 hover:scale-105"
    />
  </a>

  <div class="p-6 flex flex-col flex-grow">
    <div class="flex flex-wrap gap-2 mb-3">
      {tags.map((tag: string) => (
        <a
          href={`/${lang}/noticias/categoria/${slugify(tag, { lower: true, strict: true })}`}
          class="text-[10px] font-bold uppercase tracking-widest text-secondary hover:text-primary transition-colors"
        >
          {tag}
        </a>
      ))}
    </div>

    <a href={slug} class="group">
      <h3 class="text-xl font-bold mb-2 group-hover:text-primary transition-colors leading-tight">
        {title}
      </h3>
    </a>

    <p class="text-sm text-base-content/80 mb-4 line-clamp-3 flex-grow">
      {resumo}
    </p>

    <div class="flex items-center text-[11px] font-semibold text-base-content/50 uppercase tracking-wider mt-auto pt-4 border-t border-base-100">
      <span>{new Date(date).toLocaleDateString(lang === 'pt' ? 'pt-BR' : 'en-US')}</span>
      {author && (
        <>
          <span class="mx-2">â€¢</span>
          <span>{author}</span>
        </>
      )}
    </div>
  </div>
</article>
